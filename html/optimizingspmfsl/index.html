<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#2D2D2D" />
  
  <title>Chris Rordens Neuropsychology Lab :: Optimizing FSL and SPM</title>
  

  <link rel="icon" type="image/png" sizes="32x32" href="../_static/img/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="../_static/img/favicon-16x16.png">
        <link rel="index" title="Index"
              href="../genindex.html"/>

  <link rel="stylesheet" href="../_static/css/insegel.css"/>

  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
        URL_ROOT:'',
        VERSION:'0.1',
        LANGUAGE:'None',
        COLLAPSE_INDEX:false,
        FILE_SUFFIX:'.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
    };
  </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>

  <script src="https://email.tl.fortawesome.com/c/eJxNjUEOgyAQAF8jR7Kw6wIHDh7sP1Cw2mgxgmn6-3JsMqc5zEQfE8dkxOY1KKMUOI3ACFKRJpSW2AAp7ontYIaxI6i7XPJVwyeVfCQ550Os3jLrGSNOLgbdAy6s0PBk2TFNjEbsfq31LB0OnX407pJa5v2faRadwSW63mn5KuLyR9j2tgx3zecanl-55R_-jjPs"></script>

</head>

<body>
  <div id="insegel-container">
    <header>
      <div id="logo-container">
          
          <a href="../index.html"><img src="../_static/img/logo.svg"></a>
          

      </div>
      <div id="project-container">
        <h1>Chris Rordens Neuropsychology Lab Documentation</h1>
      </div>
    </header>

    <div id="content-container">

      <div id="main-content-container">
        <div id="main-content-header">
          <h1>Optimizing FSL and SPM</h1>
        </div>
        <div id="main-content">
          
  <div class="section" id="optimizing-fsl-and-spm">
<h1>Optimizing FSL and SPM<a class="headerlink" href="#optimizing-fsl-and-spm" title="Permalink to this headline">¶</a></h1>
<p>Magnetic Resonance Imaging (MRI) provides powerful tools for understanding how the healthy brain functions, and can also provide insight into developmental and neurological disorders. However, to make these inferences we need to heavily process the images, dealing with common sources of noise and adjusting for individual differences in the brain shape and architecture. These steps are computationally intensive, and can take a while even with the fastest modern computers. This page provides suggestions for selecting the best hardware for analyzing brain imaging data.</p>
<p>My center is currently conducting a large study to understand the consequences of stroke. We hope to provide accurate prognosis and tailor the optimal treatment strategy for future neurological patients. This study acquires and analyzes a broad range of modalities:</p>
<blockquote>
<div><ul class="simple">
<li><p>Lesion maps are drawn on T2-weighted scans which are aligned to T1-images. We then perform  <a class="reference external" href="http://www.ncbi.nlm.nih.gov/pubmed/18023365">Enantiomorphic normalization</a> . This allows us to understand the influence of the size and location of the brain injury. The normalization parameters are used for the subsequent stages. This stage uses SPM.</p></li>
<li><p>We analyze ` Arterial Spin Labelling &lt;<a class="reference external" href="http://www.mccauslandcenter.sc.edu/CRNL/tools/asl">http://www.mccauslandcenter.sc.edu/CRNL/tools/asl</a>&gt;`_  using the SPM-based  <a class="reference external" href="https://cfn.upenn.edu/~zewang/ASLtbx.php">ASLtbx</a> . This allows us to investigate perfusion.</p></li>
<li><p>We analyzing resting state data using our own SPM-based toolbox.</p></li>
<li><p>We process our diffusion tensor imaging (DTI) data using a series of FSL tools including topup, eddy, dtifit, bedpostx, and probtrackx.</p></li>
<li><p>We quantify the DTI results using our own SPM-based routines, allowing us to understand how the brains’ connectivity correlates with the cognitive and behavioral limitations observed following stroke.</p></li>
</ul>
</div></blockquote>
<p>The table below shows the time required to analyze these stages for a single individual using two computers that each cost about $700. The i7-4790K is a modern (in 2015) quad core CPU with hypterthreading (e.g. appearing to have 8 CPUs), while the dual X5670 computer has 12 cores (24 hyper threads) and was released in 2010 and purchased used from eBay (with only a modern solid state disk added):</p>
<table class="colwidths-given docutils align-default" id="id1">
<caption><span class="caption-text">Title</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 15%" />
<col style="width: 15%" />
<col style="width: 15%" />
<col style="width: 15%" />
<col style="width: 15%" />
<col style="width: 15%" />
<col style="width: 10%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Hardware</p></th>
<th class="head"><p>T1-SPM</p></th>
<th class="head"><p>ASL-SPM</p></th>
<th class="head"><p>Rest-SPM</p></th>
<th class="head"><p>DTI-FSL</p></th>
<th class="head"><p>DTI-SPM</p></th>
<th class="head"><p>Total</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>4.00 Ghz 4790k 4 core</p></td>
<td><p>238</p></td>
<td><p>77</p></td>
<td><p>106</p></td>
<td><p>4154</p></td>
<td><p>234</p></td>
<td><p>4810</p></td>
</tr>
<tr class="row-odd"><td><p>2.96 Ghz X5670 12 core</p></td>
<td><p>449</p></td>
<td><p>143</p></td>
<td><p>207</p></td>
<td><p>2838</p></td>
<td><p>307</p></td>
<td><p>3944</p></td>
</tr>
<tr class="row-even"><td><p>Speed-up</p></td>
<td><p>1.88</p></td>
<td><p>1.86</p></td>
<td><p>1.95</p></td>
<td><p>0.68</p></td>
<td><p>1.31</p></td>
<td><p>0.82</p></td>
</tr>
</tbody>
</table>
<div class="section" id="spm-considerations">
<h2>SPM considerations<a class="headerlink" href="#spm-considerations" title="Permalink to this headline">¶</a></h2>
<p>For my pipeline, SPM only requires a minority of the processing time. So for my DTI-studies I really need to focus on optimizing FSL rather than SPM.The architects of SPM deserve a lot of credit for optimizing this tool out of the box. It is heavily vectorized and takes advantage of Matlab’s implicit multithreading. Therefore, some stages see some benefit for having a lot of cores. Likewise, for specific situations where Matlab is not efficient the designers have crafted mex files that speed analysis.
The performance benefit of the modern 4790K (Haswell) CPU over the older X5670 (Westmere) is more than one would expect due to clock speed alone. This certainly reflects design improvements in the new chips, but may also reflect that recent versions of Matlab use advanced features such as AVX2.In general, SPM seems well suited to inexpensive, consumer computers.</p>
</div>
<div class="section" id="fsl-considerations">
<h2>FSL considerations<a class="headerlink" href="#fsl-considerations" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li><p>Many of the slow FSL tools can be run in parallel. Therefore, the number of cores available can dramatically accelerate performance (see graph).</p></li>
<li><p>Hyperthreading does not help FSL performance. Performance is limited by the number of physical cores. Note that the 4790K has 4 physical cores but 8 logical cores (e.g. hyper threads). However, performance for this processor does not improve when more than 4 cores are used (see graph).</p></li>
<li><p>Beyond clock-speed, modern CPUs show little or no improvement over 5 year old CPUs for FSL’s probtrackx and bedpostx tools (which are the bottlenecks in my pipeline). This is unlike other programs, where the newer processors are much faster. For example, SPM shows a 68% improvement for the modern 4.4GHz 4790K versus the 2.93 GHz X5670 (released March 2010), while with FSL the improvement is just 35% improvement. This can be best seen by comparing the older 2.9 Ghz X5670 Xeon (dual, for 12 cores) to the  <a class="reference external" href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/c4-instances.html#c4-instances-hardware">2.9 Ghz Xeon E5 2666 v3</a>  (released in April 2016, with 18 cores). Note that when we limit ourselves to 12 cores these systems provide identical performance.</p></li>
<li><p>The pre-compiled FSL distribution is pretty generic (supporting all 64-bit x86 CPUs with the “-m64” option), and is not tuned to modern CPUs. One strategy might be to  <a class="reference external" href="http://fsl.fmrib.ox.ac.uk/fsl/fslwiki/FslInstallation/SourceCode">recompile</a>  FSL on your latest generation CPU using the “march=native” directive.</p></li>
<li><p>FSL’s native distribution is designed to work on old computers, and omits useful instructions added to recent CPUs (such as  <a class="reference external" href="http://en.wikipedia.org/wiki/Advanced_Vector_Extensions">AVX</a> ). Therefore, the easiest way to test this is to either build FSL using a more recent Fedora distribution or use the  <a class="reference external" href="http://linux.web.cern.ch/linux/devtoolset/">CERN devtoolset</a>  that ports recent versions of GCC to CentOS 6.x.</p></li>
<li><p>In my brief exploration of this I found no benefits for using these advanced features for the FSL tools that are slow for me (bedpostx and probtrackx): Haswell computers took just as long to process data using the default compiler settings (which can work on any 64-bit x86 computer) as when the tools were recompiled to take advantage of the latest Haswell features (using gcc 4.8.2 on CentOS and 4.9.2 with Fedora, both using “march=native”). Perhaps these routines are not ideal for these new functions, or perhaps the compiler needs  <a class="reference external" href="http://locklessinc.com/articles/vectorize/">some hints</a> . In my (limited) experience, AVX does not provide huge benefits over SSE for most algorithms (unlike  <a class="reference external" href="http://www.mccauslandcenter.sc.edu/mricro/obsolete/graphics/simd.html">SSE vs x86</a> ). See also the  <a class="reference external" href="https://indico.cern.ch/event/327306/contribution/1/material/slides/0.pdf">CERN</a> ’s experience with AVX.</p></li>
<li><p>Note that bedpostx can run <a class="reference external" href="http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0061892">faster</a>  if you can use a high-end graphics card (GPU) instead of the central processing unit (CPU). In testing with Ben Torkian we found a GTX Titan about 85 times faster than a single core of a 4770k. Of course, in reality we would provide multiple CPUs to this task, and there even the GPU requires some CPU-based house keeping. Therefore, a more realistic comparison using our datasets finds bedpostx requires about 1362sec using all four cores of a 4790k, while a NVidia TitanZ on an older computer requires about 135sec. Beyond FSL, GPUs can accelerate many neuroimaging tasks, and can be easily integrated into Matlab as explored in my work with the  <a class="reference external" href="http://www.sc.edu/about/offices_and_divisions/division_of_information_technology/rci/research_profiles/crorden.php">Research Cyberinfrastructure group</a> . Generally, for accuracy many scientific computations use double-precision calculations which are much faster on the workstation-class GPUs (NVidia’s Tesla systems, and some models of the Nvidia Titan). However, bedpostx_gpu seems to run pretty quickly on commodity GPUs (that typically have fast single precision but slow double precision). For example, I found a Nvidia GTX 970 is able to process our DTI dataset in just 169 seconds. GPUs can accelerate other slow tasks – for example Moises Hernandez from the FSL group allowed me to beta-test his probtrackx2_gpu and an old computer with a Titan Z was able to compute a dataset in just 451 seconds where a 4 core 4790K CPU required 2465 seconds and a 18 core Xeon v3 required 1125 seconds.</p></li>
</ul>
</div></blockquote>
<a class="reference internal image-reference" href="../_images/amdahl.png"><img alt="../_images/amdahl.png" class="align-center" src="../_images/amdahl.png" style="width: 70%;" /></a>
</div>
<div class="section" id="optimizing-fsl-cost-no-object">
<h2>Optimizing FSL, cost no object<a class="headerlink" href="#optimizing-fsl-cost-no-object" title="Permalink to this headline">¶</a></h2>
<p>If cost is no object, you will want a  <a class="reference external" href="http://www.sc.edu/about/offices_and_divisions/division_of_information_technology/rci/hpc_resources/">large computer cluster for FSL</a> , with GPU nodes if you use bedpost.</p>
</div>
<div class="section" id="optimizing-fsl-on-the-cheap">
<h2>Optimizing FSL, on the cheap<a class="headerlink" href="#optimizing-fsl-on-the-cheap" title="Permalink to this headline">¶</a></h2>
<dl class="simple">
<dt>At least for my DTI analyses, it is clear that FSL really thrives when provided with lots of cores, but does not care much if they are the latest generation. Further, since many of the parallel tasks are conducted in 2D, you do not typically need a lot of RAM. Given this, you can take advantage of the fact that many companies purchase their servers on 5 year leases. Therefore, you can visit eBay and purchase a 5-year old cluster for pennies on the dollar. You can see that my 5-year old 12-core X5670 that I purchased used and upgraded with a SSD (total investment of $700) delivers about 70% of the performance of the latest 18-core Xeon e5 v3 (where the CPU alone cost more than $4000). Combining a few old computers together with Sun Grid Engine could provide a very inexpensive cluster.</dt><dd><p><a class="reference external" href="http://www.emulators.com/">Darek Mihocka</a>  made an excellent suggestion that one could use the cloud to process data. Indeed, for this evaluation I rented a high-end Xeon e5 2666 v3 system for evaluation (referred to as a  <a class="reference external" href="http://aws.amazon.com/">c4.8xlarge</a>  by Amazon web services). This is a great way to evaluate whether the latest hardware provides you with a performance boost relative to your current equipment. Further, if you only need to occassionally process datasets it is probably much less expensive to rend a cloud server than invest in your own server.</p>
</dd>
</dl>
</div>
<div class="section" id="optimizing-fsl-without-a-cluster">
<h2>Optimizing FSL, without a cluster<a class="headerlink" href="#optimizing-fsl-without-a-cluster" title="Permalink to this headline">¶</a></h2>
<p>Typically, to parallelize FSL you need to install grid engine software such as  <a class="reference external" href="http://neuro.debian.net/blog/2012/2012-03-09_parallelize_fsl_with_condor.html">Condor</a>  or  <a class="reference external" href="http://fsl.fmrib.ox.ac.uk/fsl/fslwiki/FslSge">Son Of Grid Engine</a> . However, this is  <a class="reference external" href="https://scidom.wordpress.com/2012/01/18/sge-on-single-pc/">inconvenient</a>  if you have a simple Linux workstation or a Linux laptop. In addition, grid engines are now  <a class="reference external" href="http://bioteam.net/2010/02/grid-engine-6-2-on-mac-os-x/">effectively not installable</a>  on Apple Macintosh computers running MacOS (OSX).
One can take advantage of the fact that any FSL program that is able to use a grid engine will submit a job FSL’s ‘fsl_sub’ script. By default, this if a grid is not available the job will be computed by a single core. With a little modification we can change this behavior so that if a grid is not available you will use all the available cores. To do this:</p>
<blockquote>
<div><ul class="simple">
<li><p>Download this modified version of  <a class="reference external" href="https://github.com/neurolabusc/fsl_sub">fsl_sub</a></p></li>
<li><p>Install this new version. Here I assume the downloaded file is in your Downloads folder with the name ‘fsl_sub.txt’ and fsl is installed in /usr/local/fsl:</p></li>
<li><p>sudo cp /usr/local/fsl/bin/fsl_sub /usr/local/fsl/bin/fsl_sub_orig</p></li>
<li><p>sudo cp ~/Downloads/fsl_sub.txt /usr/local/fsl/bin/fsl_sub</p></li>
<li><p>sudo chmod +x /usr/local/fsl/bin/fsl_sub</p></li>
<li><p>At this stage, you can run FSL as usual, and hopefully it will be faster.</p></li>
<li><p>If you want to test the benefit, you can temporarily disable the function by using the command “FSLPARALLEL=0; export FSLPARALLEL”</p></li>
<li><p>If you want to test the benefit, you can temporarily force it to use precisely 8 cores with the command “FSLPARALLEL=8; export FSLPARALLEL”</p></li>
<li><p>If you want to test the benefit, you can temporarily force it to automatically detect the number of cores (the default behavior) with the command “FSLPARALLEL=1; export FSLPARALLEL”</p></li>
</ul>
</div></blockquote>
<p>To make permanent changes, add the desired FSLPARALLEL setting to your profile, for example if you are using the bash shell you could type ‘nano ~/.bash_profile’ to  <a class="reference external" href="http://fsl.fmrib.ox.ac.uk/fsl/fslwiki/FslInstallation/ShellSetup">configure your shell</a> .</p>
</div>
<div class="section" id="optimizing-zlib">
<h2>Optimizing zlib<a class="headerlink" href="#optimizing-zlib" title="Permalink to this headline">¶</a></h2>
<p>Unlike SPM, FSL (and many other neuroimaging tools) will save brain images in the compressed .nii.gz format. This saves disk space required by the files. FSL (like most tools) dynamically link to the zlib library to compress and decompress these images. While decompression is fast (indeed, for the slow disks often found on clusters it may be faster to read compressed images than raw images), the compression is very slow. A simple trick to accelerate all of these tools is to replace your zlib with the  <a class="reference external" href="https://github.com/cloudflare/zlib">Cloudflare zlib</a> . This is a drop-in replacement for zlib that utilitizes the SSE 4.2 instructions (Linux/MacOS, CPUs since 2008) or AVX instructions (Windows, CPUs since 2011) of modern computers. This zlib library remains single threaded (unlike pigz), so influence any other processes running on your cluster. Your compression instantly becomes faster. You do not need to recompile FSL or any other tools: any tool that dynamically links to zlib will experience faster compression. Below you can see the impact of this. Here we use a fast local disk to read an uncompressed 16-bit integer image and save it as a compressed 32-bit image (the default output of fslmaths). This example emphasizes the impact of accelerated compression (x3.25 times faster). However, each fsl stage of (and any other tool that uses zlib) will benefit. As an added benefit, notice in this example that the Cloudflare zlib (1.2.8) compresses the file to a smaller size than the original zlib (1.2.3).</p>
<p>AFNI users can set install a <a class="reference external" href="https://github.com/neurolabusc/pigz-bench-python">Cloudflare accelerated pigz</a> and set the AFNI_COMPRESSOR=PIGZ environment variable for improved performance.</p>
</div>
<div class="section" id="future-considerations">
<h2>Future Considerations<a class="headerlink" href="#future-considerations" title="Permalink to this headline">¶</a></h2>
<p>Like other centers, we upgraded our Siemens Trio to the latest generation Prisma. The  <a class="reference external" href="http://lifespan.humanconnectome.org/data/phase1b-pilot-parameters.html">Human Connectome Project</a>  sequences show the dramatic benefits due to many features including new gradients, reduced dielectric effects and advanced multi-band tricks. However, this will mean substantially more data to process. While most modalities will an increase of x2-x3, the DTI sequences will see a dramatic increase in both resolution and directions. This means that GPU and cluster based solutions will become increasingly necessary for DTI analyses.</p>
<p>This page focuses on Intel/AMD architectures. However, recent ARM-based CPUs show considerable promise. For example, the <a class="reference external" href="hhttps://github.com/neurolabusc/AppleSiliconForNeuroimaging">Apple M1 CPUs released in 2020</a> .</p>
</div>
</div>


        </div>
      </div>

      <div id="side-menu-container">

        <div id="search" role="search">
        <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
            <input type="text" name="q" placeholder="Search..." />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
        </form>
</div>

        <div id="side-menu" role="navigation">

          
  
    
  
  
    <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../asl/index.html">Arterial Spin Labeling (ASL)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../blindside/index.html">Blindside</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bmp_contrast/index.html">Bitmap Contrast</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CenterOfCancellation/index.html">Center of Cancellation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../directions/index.html">Directions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../diyFmri/index.html">DIY fMRI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dti/index.html">DTI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../elecro/index.html">ELEcro</a></li>
<li class="toctree-l1"><a class="reference internal" href="../EMGRecorder/index.html">EMG Recorder</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fieldmaps/index.html">Fieldmaps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fmriSimulator/index.html">fMRI Simulator</a></li>
<li class="toctree-l1"><a class="reference internal" href="../jpeg-formats/index.html">JPEG Format Variations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mriconcepts/index.html">MRI Contrast</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mricro/index.html">MRIcro for macOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gl/index.html">MRIcroGL Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gl/extract/index.html">MRIcroGL Object Extraction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gl/gradients/index.html">MRIcroGL Gradients</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gl/shaders/index.html">MRIcroGL Shaders</a></li>
<li class="toctree-l1"><a class="reference internal" href="../open-source-eegecgemg/index.html">DIY Electrophysiology</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Optimizing FSL and SPM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../oscilloscope/index.html">Oscilloscope using Teensy or Arduino</a></li>
<li class="toctree-l1"><a class="reference internal" href="../part/index.html">Physiological Artifact Removal</a></li>
<li class="toctree-l1"><a class="reference internal" href="../psyc450/index.html">Sensation and Perception (PSYC450)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../psyc589888/index.html">Image to Inference (PSYC589/888)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pwi/index.html">Perfusion-weighted imaging (PWI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../qa/index.html">Quality Assurance (QA)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../spatial/index.html">Spatial Processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../spm8-scripts/index.html">spmScripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stc/index.html">Slice Time Correction (STC)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stimsync/index.html">StimSync</a></li>
<li class="toctree-l1"><a class="reference internal" href="../stimsync-api/index.html">StimSync API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../temporal/index.html">Temporal Filtering</a></li>
<li class="toctree-l1"><a class="reference internal" href="../publications/index.html">Publications</a></li>
</ul>

  


        </div>

        

      </div>

    </div>

<footer>
    <div id="footer-info">
        <ul id="build-details">
            
                <li class="footer-element">
                    
                        <a href="../_sources/optimizingspmfsl/index.rst.txt" rel="nofollow"> source</a>
                    
                </li>
            

            

            
        </ul>
        <div id="credit">
            created with <a href="http://sphinx-doc.org/">Sphinx</a> and <a href="https://github.com/Autophagy/insegel">Insegel</a>

        </div>
    </div>

    <a id="menu-toggle" class="fa fa-bars" aria-hidden="true"></a>

    <script type="text/javascript">
      $("#menu-toggle").click(function() {
        $("#menu-toggle").toggleClass("toggled");
        $("#side-menu-container").slideToggle(300);
      });
    </script>

</footer> 

</div>

</body>
</html>